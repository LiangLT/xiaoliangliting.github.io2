<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/basestyle.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script>
        $(function(){
            $(".schedule_tbody").remove();
            $(".schedule_null").remove();
            var arrHtml=["第一节","第二节","第三节","第四节","第五节","第六节","第七节","第八节","第九节","第十节"];
            var dlHtml="";
            for(var i=0;i<10;i++){//列
                dlHtml += "<dl class='schedule_tbody clearfix'>";
                dlHtml +="<dt>"+arrHtml[i]+"</dt>";
                for(var j=0; j<7;j++){//行
                    dlHtml+="<dd></dd>";
                }
                dlHtml +="</dl>";
            }
            $("#schedule_tabel").append(dlHtml);
        });
        $(function(){
            $(document).on("click",".btn_revise",function(){
                //遍历课程表
//                $(".schedule_tabel").find(".schedule_tbody dd").each(function(){
//                    //获取schedule_tbody里面的input标签
//                    var txt=$(this).find("input[type='text']");
//                    var thisTxt=$(this).text();//获取当前的值
//                    if(txt.length==0){
//                        $(".list_right").find(".btn_revise").addClass("list_bg");//给按钮添加一个新的类
//                        $(".list_right").find(".btn_revise").html("保存课程");//给按钮替换新的值
//                        var opt="<input type='text' value='"+thisTxt+"'>";
//                        $(this).html(opt);
//                    }
//                    else{
//                        //获取select的值
//                        $(".list_right").find(".btn_revise").removeClass("list_bg");
//                        $(".list_right").find(".btn_revise").html("修改课程");
//                        $(this).html(txt.val());
//                    }
//                });
//                //获取select的值
//                if($(".list_right a").text()!="保存"){
//                    var selectVal=$(".schedule_select").find("select");
//                    //alert(selectVal.val());
//                }

            });

            //拖动科目
            $("#schedule_droppable").accordion();
            $("#schedule_droppable dd").draggable({
                //appendTo:"body",//添加到body中
                helper:"clone",//复制
                cursor: "move"
            });
            //拖动内容的位置
            $("#schedule_tabel .schedule_tbody dd").droppable({
                drop:function(event,ui){
                    var _this=$(this);
                    $(_this).text(ui.draggable.text());
                }
            });

            //鼠标经过时===课程模板选择
            $(".list_temp").hover(function(){
                $(this).find("ul").slideDown("normal");
               iconImg($(this).find("p"));

            },function(){
                $(this).find("ul").slideUp("normal");
                iconImg($(this).find("p"));
            })
        });
        //鼠标经过时修改图标
        function iconImg(mainNode){
            if(mainNode){
                //用0来判断是否有选中
                if(mainNode.css("background-image").indexOf("time_pulldown.png")>=0){
                    mainNode.css("background-image","url('images/time_pullup.png')");
                }
                else{
                    mainNode.css("background-image","url('images/time_pulldown.png')");
                }
            }
        }
    </script>
</head>
<body>
    <div class="layout">
        <div class="layout_contrian">
            <div class="ly_body clearfix">
                <div class="ly_rg">
                    <div class="stu_messg">
                        当前位置：<a class="stu_hover" href="javascript:;">课程表管理</a>
                    </div>
                    <div class="schedule_title">
                        课程表
                    </div>
                    <div class="schedule">
                        <div class="schedule_list clearfix">
                            <div class="list_left">
                                <div class="schedule_select">
                                    <span>班级：</span>
                                    <select>
                                        <option>一年级（1）班</option>
                                        <option>一年级（2）班</option>
                                    </select>
                                </div>
                            </div>
                            <div class="list_right">
                                <div class="list_save">
                                    <a class="btn_revise" href="#">保存课程</a>
                                </div>
                                <div class="list_temp">
                                        <p class="temp">课程模板选择</p>
                                        <ul>
                                            <li>模板一</li>
                                            <li>模板二</li>
                                        </ul>

                                </div>
                            </div>

                        </div>
                        <div class="schedule_tabel" id="schedule_tabel">
                            <dl class="schedule_thead clearfix">
                                <dt>课程</dt>
                                <dd>星期一</dd>
                                <dd>星期二</dd>
                                <dd>星期三</dd>
                                <dd>星期四</dd>
                                <dd>星期五</dd>
                                <dd>星期六</dd>
                                <dd>星期日</dd>
                            </dl>
                            <dl class="schedule_tbody clearfix">
                                <dt>第一节(7:30-8:00)</dt>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                            </dl>
                            <dl class="schedule_tbody clearfix">
                                <dt>第二节</dt>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                            </dl>
                            <dl class="schedule_tbody clearfix">
                                <dt>第三节</dt>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                            </dl>
                            <dl class="schedule_tbody clearfix">
                                <dt>第四节</dt>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                            </dl>
                            <dl class="schedule_null clearfix">
                                <dt>午间休息</dt>
                            </dl>
                            <dl class="schedule_tbody clearfix">
                                <dt>第五节</dt>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                            </dl>
                            <dl class="schedule_tbody clearfix">
                                <dt>第六节</dt>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                            </dl>
                            <dl class="schedule_tbody clearfix">
                                <dt>第七节</dt>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                                <dd></dd>
                            </dl>
                        </div>
                    </div>
                    <div class="schedule_droppable" id="schedule_droppable">
                        <dl>
                            <dt>请拖动以下的科目，添加到上面的课程表去：</dt>
                            <dd>语文</dd>
                            <dd>数学</dd>
                            <dd>英语</dd>
                            <dd>音乐</dd>
                        </dl>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>

</script>
</html>